package com.dt.api.main;

import static io.restassured.RestAssured.baseURI;
import static io.restassured.RestAssured.given;

import java.io.FileInputStream;
import java.io.FileNotFoundException;
import java.io.IOException;
import java.util.Properties;

import org.json.simple.JSONObject;

import io.restassured.http.ContentType;



public class Config {
	
	
	@SuppressWarnings("unchecked")
	public static String token() throws FileNotFoundException, IOException {
		
		JSONObject request = new JSONObject();
		request.put("email", "vindhyar@byteridge.com");
		request.put("password", "Pass@12345");
		baseURI="https://api-qa.dthreaddev.com/api";
		given()
		.header("accept" ,"application/json").contentType(ContentType.JSON)
		.body(request.toJSONString())
		.when()
		.post("/sessions/")
		
		String propertyFilePath = System.getProperty("user.dir")+
	            "\\src\\test\\resources\\config.properties";
				
				Properties prop = new Properties();
		prop.load(new FileInputStream(propertyFilePath));
		 String token = prop.getProperty("token"); 
			return token;
	}
}
